<html>
<meta name='viewport' content='target-densitydpi=device-dpi,initial-scale=1,minimum-scale=0,maximum-scale=2,user-scalable=yes' />
<head>
</head>
<body style='margin:0;padding:0;'>
    <img id='theElement' src='$$image$$' style='width:100%;height:auto;' />    
</body>
<script type="text/javascript">
    var theElement = document.getElementById('theElement');
    theElement.addEventListener('touchstart', handlerFunction, false);
    //function start() { app.size(viewport().width, viewport().height); }  
    $('#theElement').load(function () {
        app.size(viewport().width, viewport().height);
        //document.getElementById('footer').style.display = 'none';
    });
    function handlerFunction(event) {
       // console.log('width - ' + viewport().width + ' height = ' + viewport().height);
        app.size(viewport().width, viewport().height);
    }
    function viewport() {
        //var e = window, a = 'inner';
        //if (!('innerWidth' in window)) {
        //    a = 'client'; e = document.documentElement || document.body;
        //}
        //var dif = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        //var height = dif + document.documentElement.scrollHeight + "px";
        //return { width: e[a + 'Width'], height: e[a + 'Height'] };
        //<div id='footer' style="width:100%;height:55px;background-color:white;" ></div>
        return { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };
        //return { width: $("#theElement").css("width"), height: $("#theElement").css("height") };
    }
</script>
</html>